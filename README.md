# Spring Web App

## Описание

Spring Web App — это учебное веб-приложение на Spring Boot с использованием JDBC, реализующее каталог пользователей и
книг с возможностью управления ими через современный UI.

## Основные возможности

- Просмотр, добавление, редактирование и удаление пользователей.
- Просмотр, добавление, редактирование и удаление книг.
- Привязка книги к пользователю и освобождение книги.
- Валидация данных при создании и редактировании пользователей и книг.
- Современный адаптивный дизайн с анимациями (CSS, JS).
- Удобная навигация между разделами.
- Обработка ошибок с кастомной анимацией.

## Структура проекта

```
src/
 ├─ main/
 │   ├─ java/com/example/springWebApp/
 │   │   ├─ controller/         # Контроллеры Spring MVC
 │   │   ├─ DAO/                # Data Access Object (JDBC)
 │   │   ├─ Model/              # Модели данных (Book, People)
 │   ├─ resources/
 │   │   ├─ templates/          # Thymeleaf-шаблоны (HTML)
 │   │   │   ├─ booksViews/     # Страницы для книг
 │   │   │   ├─ people.html     # Главная страница пользователей
 │   │   │   ├─ show.html       # Страница пользователя
 │   │   │   ├─ edit.html       # Редактирование пользователя
 │   │   │   ├─ new.html        # Добавление пользователя
 │   │   │   ├─ error.html      # Кастомная страница ошибки
 │   │   ├─ static/
 │   │   │   ├─ css/style.css   # Основные стили
 │   │   │   ├─ js/index.js     # JS-анимации
 │   │   │   ├─ js/error-anim.js# Анимация для error.html
 │   │   │   ├─ img/            # Картинки для error.html и иконки
```

## Быстрый старт

1. **Настройте базу данных**  
   Создайте таблицы `people` и `books` с нужными полями (`id`, `name`, `email`, `address`, `age` для people; `id`,
   `title`, `author`, `age`, `people_id` для books).

2. **Настройте `application.properties`**  
   Укажите параметры подключения к вашей БД.

3. **Соберите и запустите приложение**
   ```
   mvn clean install
   mvn spring-boot:run
   ```
   Приложение будет доступно по адресу http://localhost:8080/people/all

## Основные страницы и функции

### Пользователи

- `/people/all` — список всех пользователей (адаптивная сетка, кнопка "Добавить пользователя", переход к книгам).
- `/people/{id}` — страница пользователя, отображает его данные и список книг, которые у него есть.
- `/people/new` — форма добавления пользователя с валидацией.
- `/people/{id}/edit` — форма редактирования пользователя с валидацией.
- Удаление пользователя — кнопка на странице пользователя.

### Книги

- `/books/list` — список всех книг (адаптивная сетка, кнопка "Добавить книгу", переход к пользователям).
- `/books/{id}` — страница книги, отображает данные о книге, владельца (если есть), позволяет назначить владельца или
  освободить книгу.
- `/books/new` — форма добавления книги.
- `/books/{id}/edit` — форма редактирования книги.
- Удаление книги — кнопка на странице книги.

### Связь книг и пользователей

- На странице пользователя отображается список его книг.
- На странице книги можно назначить владельца (выпадающий список всех пользователей) или освободить книгу.

### Валидация

- Все формы пользователей и книг валидируются на сервере (аннотации + кастомный валидатор).
- Ошибки отображаются под соответствующими полями.

### Адаптивность и дизайн

- Современный минималистичный дизайн, мягкая цветовая палитра, крупные кнопки и сетки.
- Анимация появления карточек, плавные переходы.
- Кастомная страница ошибки с анимацией.

## Как расширять

- Для добавления новых сущностей (например, журналов) создайте модель, DAO-методы, контроллер и шаблоны по аналогии с
  книгами.
- Для новых связей между сущностями добавьте соответствующие поля и методы в DAO и контроллеры.
- Для новых страниц используйте существующую структуру шаблонов и стилей.

## Тестирование

- Для контроллеров можно писать тесты с использованием Spring MockMvc.
- Для DAO — интеграционные тесты с тестовой БД.

## Автор

tadohopsky

